# =============================================================================
# BIND9 + REST API Credentials
# Server: {{ inventory_hostname }} ({{ ansible_host }})
# Generated: {{ ansible_date_time.iso8601 }}
# =============================================================================
# WARNING: Keep this file secure! Do not commit to version control.

# -----------------------------------------------------------------------------
# API Access
# -----------------------------------------------------------------------------
API_ENDPOINT=http://{{ ansible_host }}:{{ bind9_api_port }}
API_KEY={{ bind9_api_key }}

# Test command:
# curl -H "X-API-Key: {{ bind9_api_key }}" http://{{ ansible_host }}:{{ bind9_api_port }}/health

# -----------------------------------------------------------------------------
# Terraform Provider Configuration
# -----------------------------------------------------------------------------
# Add to your terraform.tfvars:
#
# servers = {
#   "{{ inventory_hostname }}" = {
#     endpoint = "http://{{ ansible_host }}:{{ bind9_api_port }}"
#     api_key  = "{{ bind9_api_key }}"
#     enabled  = true
#   }
# }

# -----------------------------------------------------------------------------
# SSH Access
# -----------------------------------------------------------------------------
SSH_USER={{ ansible_user }}
SSH_HOST={{ ansible_host }}
# ssh {{ ansible_user }}@{{ ansible_host }}

# -----------------------------------------------------------------------------
# RNDC Key (for manual operations)
# -----------------------------------------------------------------------------
RNDC_KEY_FILE={{ bind9_config_dir }}/rndc.key

# -----------------------------------------------------------------------------
# DDNS/TSIG Key (for zone transfers and dynamic updates)
# -----------------------------------------------------------------------------
DDNS_KEY_FILE={{ bind9_keys_dir }}/ddns-key.key
DDNS_KEY_NAME=ddns-key
DDNS_KEY_ALGORITHM={{ bind9_tsig_algorithm }}
